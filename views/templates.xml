<?xml version="1.0" encoding="utf-8"?>
<odoo>

  <!-- Homepage Template -->
  <template id="homepage_template" name="Homepage">
    <t t-call="website.layout">
      <div id="wrap">
        <!-- Hero Section -->
        <div class="container py-5 text-center">
          <h1 class="display-4 fw-bold">Find Your Next Career Opportunity</h1>
          <div class="col-lg-6 mx-auto">
            <p class="lead mb-4">
              We are a team of passionate people whose goal is to improve everyone's life through
              disruptive products.
              Join us to build a great future together.
            </p>
            <div class="d-grid gap-2 d-sm-flex justify-content-sm-center">
              <a href="/jobs" class="btn btn-primary btn-lg px-4 gap-3">
                View Open Positions
              </a>
              <a href="/contactus" class="btn btn-outline-secondary btn-lg px-4">
                Contact Us
              </a>
            </div>
          </div>
        </div>

        <!-- Why Join Us? Feature Section -->
        <div class="container px-4 py-5">
          <h2 class="pb-2 border-bottom text-center mb-4">Why Join Us?</h2>

          <div class="row g-4 py-5 row-cols-1 row-cols-lg-3">
            <!-- Feature 1: Career Growth -->
            <div class="feature col text-center">
              <div
                class="feature-icon d-inline-flex align-items-center justify-content-center text-bg-primary bg-gradient fs-2 mb-3">
                <i class="fa fa-rocket p-3"></i>
              </div>
              <h3 class="fs-4">Career Growth</h3>
              <p>We invest in your professional development with continuous learning, mentorship
                programs, and clear paths for advancement.</p>
            </div>
            <!-- Feature 2: Innovative Culture -->
            <div class="feature col text-center">
              <div
                class="feature-icon d-inline-flex align-items-center justify-content-center text-bg-primary bg-gradient fs-2 mb-3">
                <i class="fa fa-users p-3"></i>
              </div>
              <h3 class="fs-4">Innovative Culture</h3>
              <p>Be part of a dynamic and collaborative team where your ideas are valued and you can
                make a real impact on our products.</p>
            </div>
            <!-- Feature 3: Work-Life Balance -->
            <div class="feature col text-center">
              <div
                class="feature-icon d-inline-flex align-items-center justify-content-center text-bg-primary bg-gradient fs-2 mb-3">
                <i class="fa fa-heart p-3"></i>
              </div>
              <h3 class="fs-4">Work-Life Balance</h3>
              <p>We believe in a healthy work-life integration with flexible schedules, remote work
                options, and generous paid time off.</p>
            </div>
          </div>
        </div>

      </div>
    </t>
  </template>

  <!-- Jobs Listing Page Template -->
  <template id="job_list_template" name="Jobs">
    <t t-call="website.layout">
      <div id="wrap">
        <div class="container py-5">
          <h1>Open Positions</h1>
          <div class="list-group mt-4">
            <t t-if="not jobs">
              <div class="alert alert-info">
                There are currently no open positions.
              </div>
            </t>
            <t t-foreach="jobs" t-as="job">
              <a t-attf-href="/jobs/detail/{{ job.id }}"
                class="list-group-item list-group-item-action">
                <h5 class="mb-1">
                  <t t-esc="job.name" />
                </h5>
                <p class="mb-1">
                  <t t-esc="job.department_id.name or 'N/A'" /> - <t
                    t-esc="job.address_id.city or 'Remote'" />
                </p>
              </a>
            </t>
          </div>
        </div>
      </div>
    </t>
  </template>

  <!-- Job Detail Page Template -->
  <template id="job_detail_template" name="Job Detail">
    <t t-call="website.layout">
      <div id="wrap">
        <div class="container py-5">
          <!-- Job Description -->
          <h1 t-field="job.name" />
          <div class="mt-4" id="job_description">
            <t t-raw="job.description" />
          </div>

          <hr class="my-5" />

          <!-- Application Form -->
          <h2>Apply for this position</h2>
          <form action="/jobs/apply" method="POST" enctype="multipart/form-data">
            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
            <input type="hidden" name="job_id" t-att-value="job.id" />
            <div class="mb-3">
              <label for="applicant_name" class="form-label">Full Name</label>
              <input type="text" class="form-control" name="applicant_name" required="1" />
            </div>
            <div class="mb-3">
              <label for="applicant_email" class="form-label">Email Address</label>
              <input type="email" class="form-control" name="applicant_email" required="1" />
            </div>
            <div class="mb-3">
              <label for="applicant_phone" class="form-label">Phone Number</label>
              <input type="tel" class="form-control" name="applicant_phone" />
            </div>
            <div class="mb-3">
              <label for="cv_file" class="form-label">Upload your CV</label>
              <input type="file" class="form-control" name="cv_file" required="1" />
            </div>
            <button type="submit" class="btn btn-primary">Submit Application</button>
          </form>
        </div>
      </div>
    </t>
  </template>

  <!-- Thank You Page Template (Improved) -->
  <template id="job_thank_you_template" name="Thank You">
    <t t-call="website.layout">
      <div id="wrap">
        <div class="container py-5 text-center">
          <h1 class="display-4">
            Application Submitted Successfully!
          </h1>
          <p class="lead">
            Thank you for applying for this job position. We will process your CV and get in touch
            within the next few days.
          </p>
          <a href="/jobs" class="btn btn-primary mt-3">
            Back to Job Listings
          </a>
        </div>
      </div>
    </t>
  </template>

  <!-- NEW: Error Page Template -->
  <template id="job_error_template" name="Application Error">
    <t t-call="website.layout">
      <div id="wrap">
        <div class="container py-5 text-center">
          <h1 class="display-4 text-danger">An Error Occurred</h1>
          <p class="lead">
            We're sorry, but something went wrong while submitting your application.
          </p>
          <p>
            Please try again later or contact our support team.
          </p>
          <div t-if="error" class="alert alert-danger mt-3" t-esc="error" />
          <a href="/jobs" class="btn btn-secondary mt-3">
            Back to Job Listings
          </a>
        </div>
      </div>
    </t>
  </template>

</odoo>
